@()
<div class="row-fluid">
<div class="page-header" ng-init="init()">
<h1  ng-switch on="plate.validQC">
<span ng-switch-when="FALSE" class="text-error">{{plate.code}} </span> 
 	<span ng-switch-when="TRUE" class="text-success">{{plate.code}} </span> 
 	<span ng-switch-default class="mute">{{plate.code}} </span>

 <small>  {{plate.typeName}} </small></h1>
</div>
</div>
<div class="btn-toolbar">
<div class="btn-group">
<button class="btn"  data-target="#tab1" data-toggle="tab" data-toggle="tooltip" title="@Messages("plates.button.table")">@Messages("plates.button.table")</button>
<button class="btn"  data-target="#tab2" data-toggle="tab" data-toggle="tooltip" title="@Messages("plates.button.plate")">@Messages("plates.button.plate")</button>
</div>
<div class="btn-group">
<button class="btn" ng-click="save()" data-toggle="tooltip" title="@Messages("plates.button.save")" ng-disabled="!isEditMode()"><i class="icon-save icon-large"></i></button>	
<button class="btn" ng-click="computeXY()" data-toggle="tooltip" title="@Messages("plates.button.compute")" ng-disabled="!isEditMode()"><i class="icon-magic icon-large"></i> </button>
</div>
<div class="btn-group" ng-switch on="isEditMode()">
	<button class="btn" ng-click="edit()" ng-switch-when="false" data-toggle="tooltip" title="@Messages("plates.button.edit")"><i class="icon-edit icon-large"></i></button>
	<button class="btn" ng-click="unedit()" ng-switch-when="true" data-toggle="tooltip" title="@Messages("plates.button.unedit")"><i class="icon-undo icon-large"></i></button>	
</div>

<button class="btn" ng-click="remove()" data-toggle="tooltip" ng-show="plate.code !== undefined" title="@Messages("plates.button.delete")"><i class="icon-trash icon-large"></i></button>

</div>

<div ng-class="message.clazz" ng-show="message.text !== undefined">
	<button class="close" data-dismiss="alert" type="button">Ã—</button>
	<strong>{{message.text}}</strong><button class="btn btn-link" ng-click="message.showDetails=!message.showDetails" ng-show="message.isDetails">@(Messages("plates.msg.details"))</button>
	<div ng-show="message.showDetails">
	    <ul>
    		<li ng-repeat="(key1, value1) in message.details">{{key1}}
    		<ul>
    			<li ng-repeat="(key2, value2) in value1"> {{key2}} == {{value2}} </li>
    		</ul>
    		</li>
    	</ul>	
	</div>
</div>



<div class="row-fluid">
<form class="form-horizontal">
<div class="span4">
	<dl class="dl-horizontal">
		<dt>@Messages("plates.code")</dt>
		<dd >{{plate.code}}</dd>				
	</dl>
	<dl class="dl-horizontal">
		<dt>@Messages("plates.typeName")</dt>
		<dd >{{plate.typeName}}</dd>				
	</dl>
	<dl class="dl-horizontal">
		<dt>@Messages("plates.validQC")</dt>
		<dd>
		<div ng-switch on="isEditMode()">
			<div ng-switch-when="false" ng-model='plate.validQC' codes="valuation"/>
			<div ng-switch-when="true"><select class="span12" ng-model="plate.validQC" ng-options="valid.code as valid.name for valid in lists.getValuations()" bs-select></select></div>
		</div>
		
			
		</dd>
	</dl>
	<dl class="dl-horizontal">
		<dt>@Messages("plates.validRun")</dt>
		<dd>
		<div ng-switch on="isEditMode()">
			<div ng-switch-when="false" ng-model='plate.validRun' codes="valuation"/>
			<div ng-switch-when="true"><select class="span12" ng-model="plate.validRun" ng-options="valid.code as valid.name for valid in lists.getValuations()" bs-select></select></div>
		</div>			
		</dd>
	</dl>
</div>
<div class="span8">
<dl class="dl-horizontal">
		<dt>@Messages("plates.comment")</dt>
		<dd>
			<textarea rows="5" ng-model="plate.comment"></textarea>
		</dd>
	</dl>
</div>
</form>
</div>


<div class="tab-content">
<div class="tab-pane active" id="tab1">
	<div class="datatable" datatable="datatable.getConfig()"></div>
</div>


<div class="tab-pane" id="tab2">
<table class="table table-bordered table-condensed">
       <thead>
            <tr>
                <th></th>
                <th ng-repeat="i in [1,2,3,4,5,6,7,8,9,10,11,12]">{{i}}</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="y in ['A','B','C','D','E','F','G','H']" class="total">
                <td><strong>{{y}}</strong></td>
                <td class="plates" ng-repeat="x in [1,2,3,4,5,6,7,8,9,10,11,12]" class="browser">
                	    <div ng-class="getClass(x, y)" ng-bind="displayCellPlaque(x, y)"/>    						    					
                 </td>          
            </tr>
          
        <tbody>
    
        </table>
</div>

</div>


