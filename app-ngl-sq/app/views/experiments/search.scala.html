@()
@import views.html.helper._
@form() = {
		@columnSearchForm{
			@formGroup{	
				<select class="form-control" ng-model="form.experimentType" ng-class="errors.experimentType" ng-options="experimentType.name for experimentType in lists.get('transformations')" ng-change="changeExperimentType()">
					<option value="">@Messages("experiments.select.experimentType.transformations")</option>
				</select>
			}
			@formGroup{
				<div class="form-control" bt-select ng-model="form.projectCodes" multiple="true" filter="true" placeholder='@Messages("search.placeholder.projects")' bt-options="project.code as project.code for project in lists.getProjects()"></div>
			}
			@formGroup{
				<select class="form-control" ng-model="form.processCategory" ng-options="processCategory.name for processCategory in lists.getProcessCategories()" ng-change="changeProcessCategory()">
					<option value="">@Messages("processes.select.processCategory")</option>
				</select>
			}
			
		}
		@columnSearchForm{
			@formGroup{	
				<select class="form-control" ng-model="form.experimentType" ng-class="errors.experimentType" ng-options="experimentType.name for experimentType in lists.get('purifications')" ng-change="changeExperimentType()">
					<option value="">@Messages("experiments.select.experimentType.purifications")</option>
				</select>
			}
			@formGroup{	
					<div class="form-control" bt-select ng-model="form.sampleCodes" multiple="true" filter="true" placeholder='@Messages("search.placeholder.samples")' bt-options="sample.code as sample.code for sample in lists.getSamples()" ng-focus="refreshSamples()"></div>			
			}
			@formGroup{		
				<select class="form-control" ng-model="form.processType"  ng-options="processType.name for processType in lists.getProcessTypes()" ng-change="changeProcessType()">
					<option value="">@Messages("processes.select.processType")</option>
				</select>
			}
			
		}
		@columnSearchForm{
			@formGroup{	
				<select class="form-control" ng-model="form.experimentType" ng-class="errors.experimentType" ng-options="experimentType.name for experimentType in lists.get('qualitycontrols')" ng-change="changeExperimentType()">
					<option value="">@Messages("experiments.select.experimentType.qualitycontrols")</option>
				</select>
			}
			@formGroup{			
				<input class="form-control" type="date" ng-model="form.fromDate" placeholder='@Messages("search.placeholder.fromDate")'>
			}
		}
		@columnSearchForm{
			@formGroup{	
				<select class="form-control" ng-model="form.experimentType" ng-class="errors.experimentType" ng-options="experimentType.name for experimentType in lists.get('transferts')" ng-change="changeExperimentType()">
					<option value="">@Messages("experiments.select.experimentType.transferts")</option>
				</select>
			}
			@formGroup{	
				<input class="form-control" type="date" ng-model="form.toDate" placeholder='@Messages("search.placeholder.toDate")'>
			}
		}
		@columnSearchForm{
			@formGroup{		
			<input class="form-control" type="text" ng-model="form.user" typeahead="user.name as user.name for user in lists.getUsers() | filter:$viewValue | limitTo:20" placeholder='@Messages("search.placeholder.user")'>
			}
			@formGroup{
			<select class="form-control" ng-model="form.state" ng-options="stateCode.name for stateCode in lists.getStates()" ng-change="search()">
				<option value="">@Messages("experiments.select.state")</option>
			</select>
			}	
		}
}

@searchForm(form)()()