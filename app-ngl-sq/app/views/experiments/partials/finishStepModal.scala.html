@()
<!-- -------------------------------------------------------------------------------- -->
<!-- Modal to display choice when user click on finish -->
	<div id="modalResolutionProcess" class="modal fade"  tabindex="-1" role="dialog"
		aria-labelledby="modalResolutionProcessLabel" aria-hidden="true">
		<div class="modal-dialog">
    		<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					 <h4 class="modal-title">@Messages("experiment.finishExperiment")</h4>
					 <h4>{{modalResolutionProcess.message}}</h4>
					<h3 class="modal-title">{{modalTitle}}</h3>	
				</div>
				<div  class="modal-body" style="padding:5px">
				    <button class="btn btn-primary" ng-show="correctResolution==false && (isLastExperiment==false || nextExperimentTypeCodes.length>0) && !isTransfertOneToMany" ng-click="continueProcess=true;continueExperiment()">@Messages("experiments.button.continueProcess")</button>
      				<button ng-if="correctResolution==false" class="btn btn-primary" data-dismiss="modal" ng-click="retryExperiment()">@Messages("experiment.button.retryExperiment")</button>
					<button  data-dismiss="modal" ng-if="correctResolution==false && isLastExperiment==false  && !isTransfertOneToMany"  class="btn btn-primary" ng-click="stopProcess(experiment.processResolutions)">@Messages("experiment.button.stopProcess")</button>
      				<button  data-dismiss="modal" ng-if="isLastExperiment==true || isTransfertOneToMany" data-dismiss="modal" class="btn btn-primary" ng-click="finishProcess()">@Messages("experiments.button.finishProcess")</button>
							
				</div>
				<div ng-if="(correctResolution==false && isLastExperiment==false)" class="modal-footer">	
		
					<div class="form-control" bt-select ng-model="experiment.processResolutions" multiple="true" filter="true" placeholder='@Messages("experiments.select.processResolutions")' bt-options="resolution.code as resolution.name for resolution in lists.get('processResolution')"></div>	
				</div>
				<div class="modal-footer">
				<div class="row">
					<div ng-show="continueProcess==true" class="col-md-10 col-lg-10 ">
					 	<h4 class="pull-left">@Messages("experiment.continueProcess")</h4>
						<div style="padding:5px"><a class="btn btn-default dropdown-toggle" href="#" ng-click="buttonCategoryExperiment=true;buttonContainerState=false" >@Messages("experiments.chooseNextExperimentCategory")</a></div>
						<button ng-show="buttonCategoryExperiment==true && isLastExperiment==false"  data-dismiss="modal" class="btn btn-primary" 
						ng-click="updateContainerState('transformation')" >@Messages("experiments.button.transformation")</button>
						<button ng-show="buttonCategoryExperiment==true "  data-dismiss="modal" class="btn btn-primary" 
						ng-click="updateContainerState('qualitycontrol')" >@Messages("experiments.button.qualitycontrol")</button>
						<button ng-show="buttonCategoryExperiment==true "  data-dismiss="modal" class="btn btn-primary" 
						ng-click="updateContainerState('transfert')" >@Messages("experiments.button.transfert")</button>
						<button ng-show="buttonCategoryExperiment==true "  data-dismiss="modal" class="btn btn-primary" 
						ng-click="updateContainerState('purif')" >@Messages("experiments.button.purif")</button>
						<div class="modal-body"><a class="btn btn-default dropdown-toggle" href="#" ng-click="buttonContainerState=true;buttonCategoryExperiment=false" >@Messages("experiments.chooseOputContainerState")</a></div>
						<div class="row">
							<div ng-show="buttonContainerState" class="col-md-10 col-lg-10" ultimate-datatable="datatableContainer"></div>
						</div>
					</div>
				</div>
				</div>
			</div>
		</div>
	</div>
<!-- -------------------------------------------------------------------------------- -->
