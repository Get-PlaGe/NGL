@()
<div class="row" ng-controller="TaxonomyCtrl">
<div class="col-md-12 col-lg-12">
   <ul class="nav nav-tabs margin-bottom-5">
   	<li class="active"><a href="#" data-target="#main" data-toggle="tab">@Messages("readsets.treatments.taxonomy.tabs.bilan")</a></li>
   	<li><a href="#" data-target="#krona" data-toggle="tab">@Messages("readsets.treatments.taxonomy.tabs.krona")</a></li>    
   	<li><a href="#" data-target="#phylogeneticTree" data-toggle="tab">@Messages("readsets.treatments.taxonomy.tabs.phylogeneticTree")</a></li>    	
   </ul>
		
	<div class="tab-content">
	
		<div class="tab-pane active" id="main">
			<div class="row">		
				<div class="col-md-12 col-lg-12">
				<div class="panel panel-default">
					  <!-- Default panel contents -->
					  <div class="panel-heading"><strong>@Messages("readsets.treatments.taxonomy.taxonomy")</strong></div>
					  	
						<table class="table table-condensed table-hover table-bordered">
							<thead>
							<tr>
								<th class="col-md-1 col-lg-1">
									@Messages("readsets.treatments.taxonomy.sampleInput")
								</th>
								<th class="col-md-1 col-lg-1">
									@Messages("readsets.treatments.taxonomy.organism")
								</th>
								<th class="col-md-8 col-lg-8">
									@Messages("readsets.treatments.taxonomy.taxonomy")
								</th>	
							</tr>
							</thead>
							<tbody>
							<tr>
								<td>
									{{readset.treatments[treatments.getTreatment().code].read1.sampleInput.value | number}}
								</td>
								<td>
									{{readset.treatments[treatments.getTreatment().code].read1.organism.value}}
								</td>
								<td>
									{{readset.treatments[treatments.getTreatment().code].read1.taxonomy.value}}
								</td>		
							</tr>
							</tbody>
						</table>
					</div>					
				</div>	
			</div>
					
			<div class="row">
				<div class="col-md-6 col-lg-6">	
					<div class="panel panel-default">
					  <!-- Default panel contents -->
					  <div class="panel-heading"><strong>@Messages("readsets.treatments.taxonomy.taxonBilan")</strong></div>
					  <div class="treatmentOverflow">	
					 	<table class="table table-condensed table-hover table-bordered">
						<thead>							
						<tr>
							<th>
								@Messages("readsets.treatments.taxonomy.taxonBilan.taxon")
							</th>
							<th>
								@Messages("readsets.treatments.taxonomy.taxonBilan.nbSeq")
							</th>
							<th>
								@Messages("readsets.treatments.taxonomy.taxonBilan.percent")
							</th>
						</tr>
						</thead>
						<tbody>
						<tr ng-repeat="obj in readset.treatments[treatments.getTreatment().code].read1.taxonBilan.value">
							<td>									
								 <a href="{{ncbiUrl + obj.taxon.replace(' ','+') }}" target="_blank">{{obj.taxon}}</a>									
							</td>
							<td>
								 {{obj.nbSeq | number}}													
							</td>
							<td>
								{{ obj.percent | number:2}} @Messages("unit.percent")												
							</td>
						</tr>
						</tbody>				
					</table>
					</div>
					</div>															
				</div>
				<div class="col-md-3 col-lg-3">	
					<div class="panel panel-default">
					  <!-- Default panel contents -->
					  <div class="panel-heading"><strong>@Messages("readsets.treatments.taxonomy.divisionBilan")</strong></div>
						 <table class="table table-condensed table-hover table-bordered">
							<thead>						
							<tr>
								<th>
									@Messages("readsets.treatments.taxonomy.divisionBilan.division")
								</th>
								<th>
									@Messages("readsets.treatments.taxonomy.divisionBilan.nbSeq")
								</th>
								<th>
									@Messages("readsets.treatments.taxonomy.divisionBilan.percent")
								</th>
							</tr>					
							</thead>
							<tbody>
							<tr ng-repeat="obj in readset.treatments[treatments.getTreatment().code].read1.divisionBilan.value">
								<td>							
									 {{obj.division}}
								</td>
								<td>
									 {{obj.nbSeq | number}}												
								</td>
								<td>
									 {{ obj.percent | number:2}} @Messages("unit.percent")												
								</td>
							</tr>
							</tbody>
						</table>
					</div>				
				</div>
				<div class="col-md-3 col-lg-3">
					<div class="panel panel-default">
					  <!-- Default panel contents -->
					  <div class="panel-heading"><strong>@Messages("readsets.treatments.taxonomy.keywordBilan")</strong></div>
					  <table class="table table-condensed table-hover table-bordered">
						<thead>						
						<tr>
							<th>
								@Messages("readsets.treatments.taxonomy.keywordBilan.keyword")
							</th>
							<th>
								@Messages("readsets.treatments.taxonomy.keywordBilan.nbSeq")
							</th>
							<th>
								@Messages("readsets.treatments.taxonomy.keywordBilan.percent")
							</th>
						</tr>					
						</thead>
						<tbody>	
						<tr ng-repeat="obj in readset.treatments[treatments.getTreatment().code].read1.keywordBilan.value">	
							<td>
								 {{obj.keyword}}							
							</td>
							<td>
								 {{obj.nbSeq | number}}												
							</td>
							<td>
								 {{ obj.percent | number:2}} @Messages("unit.percent")			
							</td>
						</tr>
						</tbody>
					</table>
					</div>
									
				</div>
			</div> <!--  end of row -->
			
		</div> <!--  end of tab main -->
	
		<div class="tab-pane" id="krona">
			<iframe class="col-md-12 col-lg-12" ng-bind-src="krona" style="border:0;height:1500px" />
		</div>
			
		<div class="tab-pane" id="phylogeneticTree">
		    <div class="thumbnail" data-target="#myModal" role="button" data-toggle="modal" 
			ng-click="setImage(readset.treatments[treatments.getTreatment().code].read1.phylogeneticTree.value,'phylogeneticTree','','taxonomy', 
			readset.treatments[treatments.getTreatment().code].read1.phylogeneticTree.width,
			readset.treatments[treatments.getTreatment().code].read1.phylogeneticTree.height)">
			 <a href="#">
			    <img id="read1.phylogeneticTree" ng-src="data:image/png;base64,{{readset.treatments[treatments.getTreatment().code].read1.phylogeneticTree.value}}" />	 
			 </a>
			 </div>   
		</div>
			
	</div> <!-- end of tab content   -->
</div>	
</div>