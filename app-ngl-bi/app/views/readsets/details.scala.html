@()
<div class="row-fluid">
<div class="page-header" ng-init="init()">
 <h1 ng-switch on="readset.productionValuation.valid">

 	<span ng-switch-when="FALSE" class="text-error">{{readset.code}}</span> 
 	<span ng-switch-when="TRUE" class="text-success">{{readset.code}}</span> 
 	<span ng-switch-default class="mute">{{readset.code}}</span> 

 <small>   
 <span ng-model="readset.state.code" codes="state"/>
 </small>
 <div class="btn-toolbar pull-right" ng-show="isEditMode()">
 <button class="btn" ng-click="save()" data-toggle="tooltip" title="@Messages("button.validate")" ><i class="icon-save icon-large"></i> @Messages("button.validate")</button>
 <button class="btn" ng-click="cancel()" data-toggle="tooltip" title="@Messages("button.cancel")" ><i class="icon-undo icon-large"></i> @Messages("button.cancel")</button>
 </div>
 </h1>
</div>
</div>
<div class="row-fluid" messages="messages"></div>
<div class="row-fluid">
<form class="form-horizontal">
		<div class="span4">
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.code")</dt>
				<dd >{{readset.code}}</dd>				
			</dl>
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.state.code")</dt>
				<dd ng-model='readset.state.code' codes="state"></dd>
			</dl>
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.productionValuation.valid")</dt>
				<dd>
				<div ng-switch on="isEditMode()">
					<div ng-switch-when="false" ng-model='readset.productionValuation.valid' codes="valuation"/>
					<div ng-switch-when="true"><select class="span12" ng-model="readset.productionValuation.valid" ng-options="valid.code as valid.name for valid in lists.getValuations()" bs-select></select></div>
				</div>
				</dd>
			</dl>
			
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.productionValuation.resolutions")</dt>
				<dd>
				<div ng-switch on="isEditMode()">
					<div ng-switch-when="false">
						    <ul class="unstyled">
						    		<li ng-repeat="code in readset.productionValuation.resolutionCodes" ng-model="code" codes="resolution"/>
						    </ul>
					</div>
					<div ng-switch-when="true"><select class="span12" ng-model="readset.productionValuation.resolutionCodes" title="" multiple ng-options="valid.code as valid.name for valid in lists.getResolutions()" bs-select></select></div>
				</dd>
			</dl>
			
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.productionValuation.criteria")</dt>
				<dd>
				<div ng-switch on="isEditMode()">
					<div ng-switch-when="false" ng-model="readset.productionValuation.criteriaCode" codes="valuation_criteria"/>
					<div ng-switch-when="true"><select class="span12" ng-model="readset.productionValuation.criteriaCode" title="" ng-options="valid.code as valid.name for valid in lists.getValuationCriterias()" bs-select></select></div>
				</dd>
			</dl>
			
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.valuation.user")</dt>
				<dd>{{readset.productionValuation.user}} ({{readset.productionValuation.date | date:'@Messages("date.format")'}})</dd>				
			</dl>
			
	</div>
	<div class="span4">
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.treatments.global.usefulSequences")</dt>
				<dd>{{readset.treatments.global["default"].usefulSequences.value |	number}}</dd>
			</dl>
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.treatments.global.usefulBases")</dt>
				<dd>{{readset.treatments.global["default"].usefulBases.value | number}}</dd>
			</dl>
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.bioinformaticValuation.valid")</dt>
				<dd>
				<div ng-switch on="isEditMode()">
					<div ng-switch-when="false" ng-model='readset.bioinformaticValuation.valid' codes="valuation"/>
					<div ng-switch-when="true"><select class="span12" ng-model="readset.bioinformaticValuation.valid" ng-options="valid.code as valid.name for valid in lists.getValuations()" bs-select></select></div>
				</div>
				</dd>
			</dl>
			
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.bioinformaticValuation.resolutions")</dt>
				<dd>
				<div ng-switch on="isEditMode()">
					<div ng-switch-when="false">
						    <ul class="unstyled">
						    		<li ng-repeat="code in readset.bioinformaticValuation.resolutionCodes" ng-model="code" codes="resolution"/>
						    </ul>
					</div>
					<div ng-switch-when="true"><select class="span12" ng-model="readset.bioinformaticValuation.resolutionCodes" title="" multiple ng-options="valid.code as valid.name for valid in lists.getResolutions()" bs-select></select></div>
				</dd>
			</dl>
			
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.bioinformaticValuation.criteria")</dt>
				<dd>
				<div ng-switch on="isEditMode()">
					<div ng-switch-when="false" ng-model="readset.bioinformaticValuation.criteriaCode" codes="valuation_criteria"/>
					<div ng-switch-when="true"><select class="span12" ng-model="readset.bioinformaticValuation.criteriaCode" title="" ng-options="valid.code as valid.name for valid in lists.getValuationCriterias()" bs-select></select></div>
				</dd>
			</dl>
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.valuation.user")</dt>
				<dd>{{readset.bioinformaticValuation.user}} ({{readset.bioinformaticValuation.date | date:'@Messages("date.format")'}})</dd>				
			</dl>
		</div>
		<div class="span4">
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.runCode") / @Messages("readsets.laneNumber")</dt>
				<dd><button class="btn btn-link" type="button" ng-click="goToRun()">{{readset.runCode}}</button> / {{readset.laneNumber}}</dd>
			</dl>
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.runType")</dt>
				<dd>{{run.typeCode}}</dd>
			</dl>
			
			<dl class="dl-horizontal">
				<dt>@Messages("readsets.nbCycles")</dt>
				<dd>{{run.treatments.ngsrg["default"].nbCycle.value}}</dd>
			</dl>			
		</div>
</form>		
</div>
           
<div class="row-fluid">

<div class="span12">
@views.html.commons.treatments()
</div>
</div>

<!-- ----------------------------------------------------------------------------- -->
		<!-- Modal -->
	<div id="myModal" class="modal hide fade"  tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true" style="left:{{modalLeft}}px; width:{{modalWidth}}px; margin-left:0px">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal"
				aria-hidden="true">&times;</button>
			<h3>{{readset.code}}</h3>	
			<h4 id="myModalLabel">{{modalTitle}}</h4>
		</div>
		<div>
			<img src="data:image/png;base64,{{modalImage}}"  />
		</div>
	</div>

	<!-- -------------------------------------------------------------------------------- -->
	