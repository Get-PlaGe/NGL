@()
<div class="row-fluid">
<div class="page-header" ng-init="init()">
 <h1 ng-switch on="run.validation.valid">

 @Messages("title.run") :	
 	<span ng-switch-when="FALSE" class="text-error">{{run.code}}</span> 
 	<span ng-switch-when="TRUE" class="text-success">{{run.code}}</span> 
 	<span ng-switch-default class="mute">{{run.code}}</span> 

 <small>
 <span ng-model="run.validation.valid" codes="validation"></span>
  
 <span ng-model="run.state.code" codes="state"/>
 </small>
 <div class="btn-toolbar pull-right">
 <button class="btn" ng-click="save()" data-toggle="tooltip" title="@Messages("runs.button.validate")" ><i class="icon-save icon-large"></i> @Messages("runs.button.validate")</button>
 <button class="btn" ng-click="cancel()" data-toggle="tooltip" title="@Messages("runs.button.cancel")" ><i class="icon-undo icon-large"></i> @Messages("runs.button.cancel")</button>
 </div>
 </h1>
</div>
</div>
<div class="row-fluid" messages="messages">
</div>
<div class="row-fluid">
		<div class="span3">
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.code")</dt>
				<dd>{{run.code}}</dd>
			</dl>		
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.state.code")</dt>
				<dd ng-model='run.state.code' codes="state"></dd>
			</dl>
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.validation.valid")</dt>
				<dd>
				<div ng-switch on="isEdit()">
					<div ng-switch-when="false">{{run.validation.valid}}</div>
					<div ng-switch-when="true"><select class="span12" ng-model="run.validation.valid" ng-options="valid.code as valid.name for valid in validation.values" bs-select></select></div>
				</div>
				</dd>
			</dl>
			
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.validation.resolution")</dt>
				<dd>
				<div ng-switch on="isEdit()">
					<div ng-switch-when="false">{{run.validation.resolutionCodes}} </div>
					<div ng-switch-when="true"><select class="span12" ng-model="run.validation.resolutionCodes" title="" multiple ng-options="valid.code as valid.name for valid in validation.resolutions" bs-select></select></div>
				</dd>
			</dl>
	</div>
	<div class="span3">
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.type")</dt>
				<dd>{{run.typeCode}}</dd>
			</dl>
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.nb_cluster_total")</dt>
				<dd>{{run.treatments.ngsrg["default"].nbClusterTotal.value |
					number}}</dd>
			</dl>
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.nb_cluster_illumina")</dt>
				<dd>{{run.treatments.ngsrg["default"].nbClusterIlluminaFilter.value	| number}} 
				({{(run.treatments.ngsrg["default"].nbClusterIlluminaFilter.value/run.treatments.ngsrg["default"].nbClusterTotal.value)*100 | number:2}})</dd>
			</dl>
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.nb_bases_en_gb")</dt>
				<dd>{{run.treatments.ngsrg["default"].nbBase.value | number}}</dd>
			</dl>

		</div>
		<div class="span3">
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.nbCycle")</dt>
				<dd>{{run.treatments.ngsrg["default"].nbCycle.value}}</dd>
			</dl>
			
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.controlLane")</dt>
				<dd>{{run.treatments.ngsrg["default"].controlLane.value}}</dd>
			</dl>
			
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.containerSupportCode")</dt>
				<dd>{{run.containerSupportCode}}</dd>
			</dl>
			
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.flowcellPosition")</dt>
				<dd>{{run.treatments.ngsrg["default"].flowcellPosition.value}}</dd>
			</dl>
		</div>
		
		<div class="span3">
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.rtaVersion")</dt>
				<dd>{{run.treatments.ngsrg["default"].rtaVersion.value}}</dd>
			</dl>
			
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.flowcellVersion")</dt>
				<dd>{{run.treatments.ngsrg["default"].flowcellVersion.value}}</dd>
			</dl>
			
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.intrumentCode")</dt>
				<dd>{{run.instrumentUsed.code}}</dd>
			</dl>
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.intrumentCategoryCode")</dt>
				<dd>{{run.instrumentUsed.categoryCode}}</dd>
			</dl>
		
		</div>
</div>
<hr>	           
<div class="row-fluid">
	<div datatable="laneDatatable.getConfig()"></div>
</div>
<div class="row-fluid">
	<div class="pull-right">
			<dl class="dl-horizontal">
				<dt>@Messages("runs.dt.validation.user")</dt>
				<dd>{{run.validation.user}} - {{run.validation.date | date:'@Messages("date.format")'}}</dd>				
			</dl>
	</div>
	
</div>
