@(isForm: Boolean)

@import views.html.helper._
@form() = {	
	@columnSearchForm{
			@formGroup{
				<input type="text" class="form-control" ng-model="form.projectCode" typeahead="project.code as project.code for project in lists.getProjects() | filter:$viewValue | limitTo:20" placeholder='@Messages("search.placeholder.project")'>				
			}
			@formGroup{
				<div  class="form-control" bt-select ng-model="form.stateCodes" multiple="true" placeholder="@Messages("search.placeholder.states")" bt-options="state.code as state.name for state in lists.getStates()" ></div>							
			}
	}		
	@columnSearchForm{		
			@formGroup{		
				<input type="text" class="form-control" ng-model="form.sampleCode"  typeahead="sample.code as sample.name for sample in lists.getSamples() | filter:$viewValue | limitTo:20" ng-focus="refreshSamples()" placeholder='@Messages("search.placeholder.sample")'>				
			}
			@formGroup{
				<div  class="form-control" bt-select ng-model="form.typeCodes" multiple="true" placeholder="@Messages("search.placeholder.types")" bt-options="type.code as type.name for type in lists.getTypes()"></div>			
			}
	}		
	@columnSearchForm{		
			@formGroup{		
				<input type="text" class="form-control" ng-model="form.fromDate" placeholder='@Messages("search.placeholder.fromDate")'>
			}
			@formGroup{
				<div  class="form-control" bt-select ng-model="form.validCode" placeholder="@Messages("search.placeholder.valid")" bt-options="valid.code as valid.name for valid in lists.getValuations()"></div>
			}
	}		
	@columnSearchForm{		
			@formGroup{	
				<input type="text" class="form-control" ng-model="form.toDate" placeholder='@Messages("search.placeholder.toDate")'>
			}
			@formGroup{
				<input type="text" class="form-control"  ng-model="form.code"  typeahead="run.code as run.name for run in lists.getRuns() | filter:$viewValue | limitTo:20" placeholder='@Messages("search.placeholder.run")'>
			}	
	}			
}

@formAttrs() = {
	ng-controller="SearchFormCtrl" ng-init="init()"
}

@if(isForm) {
	@searchForm(form,formAttrs)()()
}

@if(!isForm) {
	@searchForm()()()
}
